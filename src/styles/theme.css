/* Theme-specific styles */

/* System Theme (will be auto-applied based on system preference) */
.theme-system {
  --background-primary: var(--system-background);
  --background-secondary: var(--system-background-secondary);
  --background-gradient: var(--system-gradient);
  --widget-bg: var(--system-widget-bg);
  --widget-border: var(--system-widget-border);
  --widget-shadow: var(--system-widget-shadow);
  --text-primary: var(--system-text);
  --text-secondary: var(--system-text-secondary);
  --accent-color: var(--system-accent);
  --accent-hover: var(--system-accent-hover);
  --glow-effect: var(--system-glow);
}

/* Dark Theme (Default) */
.theme-dark {
  --background-primary: #1a1a1a;
  --background-secondary: #111111;
  --background-gradient: linear-gradient(to bottom, #1a1a1a, #0c0c0c);
  --widget-bg: rgba(30, 30, 30, 0.75);
  --widget-border: rgba(255, 255, 255, 0.1);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.9); /* Improved from 0.85 for better contrast */
  --accent-color: #007AFF;
  --accent-hover: #0066CC;
  --glow-effect: rgba(0, 122, 255, 0.15);
}

/* Light Theme */
.theme-light {
  --background-primary: #f5f5f7;
  --background-secondary: #ffffff;
  --background-gradient: linear-gradient(to bottom, #f5f5f7, #e5e5e5);
  --widget-bg: rgba(255, 255, 255, 0.85);
  --widget-border: rgba(0, 0, 0, 0.1);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
  --text-primary: #000000;
  --text-secondary: rgba(0, 0, 0, 0.9); /* Improved from 0.85 for better contrast */
  --accent-color: #0055CC; /* Darkened for better contrast on light backgrounds */
  --accent-hover: #0044AA;
  --glow-effect: rgba(0, 122, 255, 0.1);
}

/* Blue Theme */
.theme-blue {
  --background-primary: #0c2d48;
  --background-secondary: #051923;
  --background-gradient: linear-gradient(to bottom, #0c2d48, #051923);
  --widget-bg: rgba(12, 45, 72, 0.75);
  --widget-border: rgba(86, 177, 240, 0.2);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.9); /* Improved from 0.85 for better contrast */
  --accent-color: #56b1f0;
  --accent-hover: #3a9bd4;
  --glow-effect: rgba(86, 177, 240, 0.15);
}

/* Purple Theme */
.theme-purple {
  --background-primary: #2e1065;
  --background-secondary: #1c0942;
  --background-gradient: linear-gradient(to bottom, #2e1065, #1c0942);
  --widget-bg: rgba(46, 16, 101, 0.75);
  --widget-border: rgba(167, 139, 250, 0.2);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.9); /* Improved from 0.85 for better contrast */
  --accent-color: #a78bfa;
  --accent-hover: #8b5cf6;
  --glow-effect: rgba(167, 139, 250, 0.15);
}

/* Green Theme */
.theme-green {
  --background-primary: #064e3b;
  --background-secondary: #022c22;
  --background-gradient: linear-gradient(to bottom, #064e3b, #022c22);
  --widget-bg: rgba(6, 78, 59, 0.75);
  --widget-border: rgba(52, 211, 153, 0.2);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.9); /* Improved from 0.85 for better contrast */
  --accent-color: #10b981; /* Darkened from #34d399 for better contrast */
  --accent-hover: #059669;
  --glow-effect: rgba(52, 211, 153, 0.15);
}

/* Orange Theme */
.theme-orange {
  --background-primary: #7c2d12;
  --background-secondary: #4c1d05;
  --background-gradient: linear-gradient(to bottom, #7c2d12, #4c1d05);
  --widget-bg: rgba(124, 45, 18, 0.75);
  --widget-border: rgba(251, 146, 60, 0.2);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.9); /* Improved from 0.85 for better contrast */
  --accent-color: #f97316; /* Darkened from #fb923c for better contrast */
  --accent-hover: #ea580c;
  --glow-effect: rgba(249, 115, 22, 0.15);
}

/* Red Theme */
.theme-red {
  --background-primary: #7f1d1d;
  --background-secondary: #450a0a;
  --background-gradient: linear-gradient(to bottom, #7f1d1d, #450a0a);
  --widget-bg: rgba(127, 29, 29, 0.75);
  --widget-border: rgba(252, 165, 165, 0.2);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.9); /* Improved from 0.85 for better contrast */
  --accent-color: #ef4444; /* Darkened from #f87171 for better contrast */
  --accent-hover: #dc2626;
  --glow-effect: rgba(239, 68, 68, 0.15);
}

/* iOS 18 Theme */
.theme-ios18 {
  --background-primary: #000000;
  --background-secondary: #0a0a0a;
  --background-gradient: linear-gradient(to bottom, #000000, #0a0a0a);
  --widget-bg: rgba(30, 30, 30, 0.6);
  --widget-border: rgba(255, 255, 255, 0.08);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.85);
  --accent-color: #0A84FF;
  --accent-hover: #007AFF;
  --glow-effect: rgba(10, 132, 255, 0.2);
  
  /* iOS 18 specific additions */
  --ios18-card-bg: rgba(30, 30, 30, 0.75);
  --ios18-border: rgba(255, 255, 255, 0.12);
  --ios18-glow: 0 0 20px rgba(10, 132, 255, 0.3);
  --ios18-highlight: rgba(255, 255, 255, 0.05);
}

/* Dawn Theme (Morning) */
.theme-dawn {
  --background-primary: #1A1F2C;
  --background-secondary: #2A3040;
  --background-gradient: linear-gradient(to bottom, #1A1F2C, #2A3040);
  --widget-bg: rgba(42, 48, 64, 0.75);
  --widget-border: rgba(245, 192, 109, 0.15);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.85);
  --accent-color: #F5C06D;
  --accent-hover: #E6B05E;
  --glow-effect: rgba(245, 192, 109, 0.2);
}

/* Command Theme (Work) */
.theme-command {
  --background-primary: #0A0A15;
  --background-secondary: #1C1548;
  --background-gradient: linear-gradient(to bottom, #0A0A15, #1C1548);
  --widget-bg: rgba(28, 21, 72, 0.75);
  --widget-border: rgba(233, 71, 255, 0.15);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.85);
  --accent-color: #E947FF;
  --accent-hover: #D938F0;
  --glow-effect: rgba(233, 71, 255, 0.25);
}

/* Warpspace Theme (Mission) */
.theme-warpspace {
  --background-primary: #190419;
  --background-secondary: #5A0632;
  --background-gradient: linear-gradient(to bottom, #190419, #5A0632);
  --widget-bg: rgba(90, 6, 50, 0.75);
  --widget-border: rgba(255, 69, 0, 0.15);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.85);
  --accent-color: #FF4500;
  --accent-hover: #F43D00;
  --glow-effect: rgba(255, 69, 0, 0.25);
}

/* Nebula Theme (Rest) */
.theme-nebula {
  --background-primary: #0F1135;
  --background-secondary: #1A237E;
  --background-gradient: linear-gradient(to bottom, #0F1135, #1A237E);
  --widget-bg: rgba(26, 35, 126, 0.75);
  --widget-border: rgba(179, 157, 219, 0.15);
  --widget-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.85);
  --accent-color: #B39DDB;
  --accent-hover: #A58BCC;
  --glow-effect: rgba(179, 157, 219, 0.25);
}

/* New iOS 18 Components */
.ios18-card {
  background: var(--ios18-card-bg);
  border: 1px solid var(--ios18-border);
  border-radius: 16px;
  box-shadow: var(--widget-shadow);
  backdrop-filter: blur(16px);
  transition: all 0.3s ease;
}

.ios18-card:hover {
  box-shadow: var(--ios18-glow);
  border-color: var(--accent-color);
}

.ios18-button {
  background: var(--accent-color);
  color: white;
  border-radius: 12px;
  padding: 10px 20px;
  font-weight: 500;
  border: none;
  transition: all 0.3s ease;
}

.ios18-button:hover {
  background: var(--accent-hover);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.ios18-input {
  background: rgba(60, 60, 60, 0.3);
  border: 1px solid var(--ios18-border);
  border-radius: 12px;
  padding: 12px 16px;
  color: var(--text-primary);
  backdrop-filter: blur(4px);
  transition: all 0.3s ease;
}

.ios18-input:focus {
  border-color: var(--accent-color);
  background: rgba(60, 60, 60, 0.5);
  box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.3);
}

/* Particle and glow effects */
.particle-glow {
  position: relative;
}

.particle-glow::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, var(--accent-color) 0%, transparent 70%);
  opacity: 0.15;
  z-index: -1;
  filter: blur(20px);
}

/* Floating animation */
@keyframes float-subtle {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
  100% {
    transform: translateY(0);
  }
}

.animate-float-subtle {
  animation: float-subtle 4s ease-in-out infinite;
}

/* Pulse glow animation */
@keyframes pulse-glow {
  0% {
    box-shadow: 0 0 10px 0 rgba(var(--accent-rgb), 0.1);
  }
  50% {
    box-shadow: 0 0 20px 0 rgba(var(--accent-rgb), 0.3);
  }
  100% {
    box-shadow: 0 0 10px 0 rgba(var(--accent-rgb), 0.1);
  }
}

.animate-pulse-glow {
  --accent-rgb: 10, 132, 255;
  animation: pulse-glow 4s ease-in-out infinite;
}

/* Gradient text animation */
@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.gradient-text {
  background: linear-gradient(90deg, var(--accent-color), #ffffff, var(--accent-color));
  background-size: 200% 200%;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-shift 6s ease infinite;
}

/* iOS 18 glass effect */
.ios18-glass {
  background: rgba(10, 10, 15, 0.65);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

/* Dynamic iOS widgets */
.ios-widget {
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  background: var(--widget-bg);
  border: 1px solid var(--widget-border);
  backdrop-filter: blur(12px);
}

.ios-widget:hover {
  transform: scale(1.02);
  box-shadow: var(--widget-shadow);
}

/* Widget size transitions */
.widget-sm {
  height: 150px;
}

.widget-md {
  height: 200px;
}

.widget-lg {
  height: 250px;
}

.widget-xl {
  height: 300px;
}

.widget-expanding:hover {
  height: auto;
  max-height: 400px;
}

/* Global theme application */
body {
  background-color: var(--background-secondary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

.apple-widget {
  background-color: var(--widget-bg);
  border-color: var(--widget-border);
  box-shadow: var(--widget-shadow);
  transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.accent-text {
  color: var(--accent-color);
}

.accent-bg {
  background-color: var(--accent-color);
}

.accent-border {
  border-color: var(--accent-color);
}

.theme-glow {
  box-shadow: 0 0 20px var(--glow-effect);
}

/* Apple Design Elements */

/* Dynamic Glassmorphism - adapts to light/dark */
.glass {
  backdrop-filter: blur(16px);
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.dark .glass {
  background: rgba(30, 30, 30, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Neo-morphism for subtle Apple-like depth */
.neomorphic {
  background: var(--background-primary);
  box-shadow: 
    8px 8px 16px rgba(0, 0, 0, 0.15), 
    -8px -8px 16px rgba(255, 255, 255, 0.05);
  border-radius: 16px;
  transition: all 0.3s ease;
}

.light .neomorphic {
  box-shadow: 
    8px 8px 16px rgba(0, 0, 0, 0.08), 
    -8px -8px 16px rgba(255, 255, 255, 0.5);
}

/* Hybrid style (combining glassmorphism and neomorphism) for an Apple-like UI */
.hybrid {
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 
    8px 8px 16px rgba(0, 0, 0, 0.15), 
    -8px -8px 16px rgba(255, 255, 255, 0.05);
  border-radius: 16px;
  transition: all 0.3s ease;
}

.light .hybrid {
  background: rgba(255, 255, 255, 0.85);
  box-shadow: 
    8px 8px 16px rgba(0, 0, 0, 0.08), 
    -8px -8px 16px rgba(255, 255, 255, 0.5);
}

/* Frosted Glass Elements (like iOS controls) */
.frosted-glass {
  backdrop-filter: blur(12px);
  background: rgba(255, 255, 255, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 16px;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
}

.dark .frosted-glass {
  background: rgba(30, 30, 30, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* iOS Button styles */
.ios-button {
  border-radius: 8px;
  padding: 10px 20px;
  font-weight: 500;
  background-color: var(--accent-color);
  color: white;
  border: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
}

.ios-button:hover {
  background-color: var(--accent-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.ios-button:active {
  transform: scale(0.98);
}

/* Subtle animations */
@keyframes subtle-float {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
  100% {
    transform: translateY(0);
  }
}

.subtle-float {
  animation: subtle-float 4s ease-in-out infinite;
}
