.icloud-widget {
  @apply rounded-xl shadow-lg border overflow-hidden backdrop-blur-sm;
  width: 100%;
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
  display: flex;
  flex-direction: column;
}

.icloud-widget:hover {
  @apply shadow-xl;
}

.icloud-widget-header {
  @apply flex items-center justify-between p-3 border-b text-sm font-medium;
}

.icloud-widget-title {
  @apply flex items-center;
}

.icloud-widget-body {
  @apply bg-transparent;
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Image handling */
.icloud-widget-image {
  width: 100%;
  height: auto;
  aspect-ratio: 16 / 9;
  object-fit: cover;
}

.icloud-widget-image-container {
  overflow: hidden;
  width: 100%;
}

/* Touch-friendly controls */
.touch-control {
  @apply p-3;
  touch-action: manipulation;
}

/* Glass morphism effect for dark theme */
.glass-dark {
  @apply backdrop-blur-xl bg-slate-900/40 border border-slate-800/50 shadow-[0_4px_12px_-2px_rgba(0,0,0,0.5)];
}

.glass-light {
  @apply backdrop-blur-xl bg-white/40 border border-white/20 shadow-[0_4px_12px_-2px_rgba(0,0,0,0.1)];
}

/* Apple card styling */
.apple-card {
  @apply rounded-xl shadow-md border border-white/20 bg-white/80 backdrop-blur-md p-4 transition-all duration-300;
}

/* Dark mode apple card */
.dark-apple-card {
  @apply bg-slate-800/90 backdrop-blur-lg border border-slate-700 shadow-lg rounded-xl p-4;
}

/* Mobile optimized widget */
.mobile-widget {
  @apply w-full relative my-2 max-w-full;
  transform: none !important;
}

/* Celestial mode effects */
.celestial-bg {
  @apply bg-gradient-to-br from-slate-900 to-slate-950;
}

.star {
  @apply absolute rounded-full bg-white opacity-70;
  animation: twinkle 3s infinite ease-in-out;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

/* Dashboard grid layout */
.dashboard-grid {
  @apply grid gap-4 p-4;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  height: calc(100vh - 80px);
  overflow-y: auto;
}

/* Responsive dashboard grid */
@media (min-width: 768px) {
  .dashboard-grid {
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  }
}

@media (min-width: 1024px) {
  .dashboard-grid {
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  }
}

/* Chat components */
.chat-box {
  @apply flex flex-col h-full overflow-hidden rounded-lg border border-slate-200;
}

.chat-messages {
  @apply flex-1 overflow-y-auto p-3 space-y-3;
}

.chat-input-container {
  @apply border-t p-2 flex items-center;
}

.user-message {
  @apply bg-primary text-primary-foreground p-3 rounded-lg ml-auto max-w-[75%];
}

.ai-message {
  @apply bg-muted p-3 rounded-lg mr-auto max-w-[75%];
}

/* Workflow canvas */
.workflow-canvas {
  @apply border border-dashed border-slate-300 rounded-lg p-4 h-48 flex items-center justify-center text-muted-foreground;
}

/* Social feed */
.social-feed {
  @apply space-y-3 overflow-y-auto max-h-48;
}

.social-post {
  @apply bg-muted/50 p-3 rounded-lg text-sm;
}

/* Mobility map */
.mobility-map {
  @apply bg-slate-100 dark:bg-slate-800 rounded-lg p-4 h-48 flex items-center justify-center text-muted-foreground;
}

/* iOS 18 Specific Styles */
.ios-app-icon {
  @apply rounded-2xl overflow-hidden shadow-md flex items-center justify-center;
  aspect-ratio: 1 / 1;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.ios-app-icon:active {
  transform: scale(0.9);
}

.ios-app-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  padding: 24px 16px;
}

.ios-page-indicator {
  @apply flex justify-center space-x-1 mt-4;
}

.ios-page-dot {
  @apply w-1.5 h-1.5 rounded-full bg-gray-400;
}

.ios-page-dot.active {
  @apply bg-gray-200;
}

.ios-dock {
  @apply fixed bottom-6 left-1/2 transform -translate-x-1/2 flex justify-center items-center p-2 rounded-3xl;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  width: 90%;
  max-width: 400px;
}

.ios-dock-app {
  @apply mx-2 rounded-2xl overflow-hidden shadow-md;
  width: 60px;
  height: 60px;
}

.ios-status-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
}

.ios-widget-stack {
  @apply space-y-4 p-4;
}

.ios-widget-container {
  @apply rounded-3xl overflow-hidden shadow-md;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.ios-lock-screen {
  @apply flex flex-col items-center justify-between p-8 min-h-screen;
  background-size: cover;
  background-position: center;
}

.ios-large-time {
  @apply text-6xl font-bold text-white;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.ios-swipe-indicator {
  @apply w-12 h-1 bg-white/30 rounded-full mx-auto mt-4;
}

.ios-widget-small {
  width: 150px;
  height: 150px;
}

.ios-widget-medium {
  width: 320px;
  height: 150px;
}

.ios-widget-large {
  width: 320px;
  height: 320px;
}

.ios-home-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  min-height: 100vh;
  padding: 24px 16px 80px;
}

.ios-app-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 24px;
  margin-top: 40px;
}

.ios-app-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 16px;
  margin-bottom: 8px;
}

.ios-app-label {
  font-size: 12px;
  color: white;
  text-align: center;
}

.ios-page-indicator {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 24px;
}

.ios-page-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.3);
}

.ios-page-dot.active {
  background-color: white;
}

@media (max-width: 768px) {
  .ios-app-grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
  }
  
  .ios-app-icon {
    width: 60px;
    height: 60px;
  }
}
